(function(t){function e(e){for(var o,i,l=e[0],r=e[1],c=e[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,l=1;l<n.length;l++){var r=n[l];0!==a[r]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},s=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=r;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1a82":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],i=n("2877"),l={},r=Object(i["a"])(l,a,s,!1,null,null,null),c=r.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-container",[n("el-header",[t._v("物联网小车控制平台")]),n("el-main",[n("el-row",{attrs:{type:"flex"}},[n("el-col",{attrs:{span:12}},[n("el-select",{attrs:{placeholder:"请选择编码格式"},model:{value:t.encoded,callback:function(e){t.encoded=e},expression:"encoded"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-col",{attrs:{span:6}},[n("el-tag",{attrs:{type:"info",effect:"dark"}},[t._v(" "+t._s(t.isConnected?"已连接":"未连接")+" ")])],1),n("el-col",{attrs:{span:6}},[n("el-button",{attrs:{type:"success",round:""},on:{click:t.saveConfig}},[t._v("保存")])],1)],1),n("el-row",{attrs:{type:"flex"}},[n("el-col",{attrs:{span:12}},[n("el-switch",{staticClass:"mode",attrs:{"active-text":"配置","inactive-text":"启用","active-value":1,"inactive-value":0},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}})],1),n("el-col",{attrs:{span:12}},[n("el-button",{staticClass:"addBtn",attrs:{icon:"el-icon-plus",circle:""},on:{click:t.addBtn}}),n("el-button",{staticClass:"subBtn",attrs:{icon:"el-icon-minus",circle:""},on:{click:t.subBtn}})],1)],1),t._l(Math.ceil(t.btns.length/3),(function(e){return n("el-row",{key:e,attrs:{type:"flex"}},t._l(t.btns.length-3*e<0?t.btns.length%3:3,(function(o){return n("el-col",{key:o,attrs:{span:8}},[n("el-button",{attrs:{type:"primary",round:""},nativeOn:{touchstart:function(n){t.touch(3*(e-1)+(o-1),t.btns[3*(e-1)+(o-1)].cmd,t.btns[3*(e-1)+(o-1)].interval)},touchend:function(e){return t.endSend(e)}}},[t._v("按钮"+t._s(3*(e-1)+o))])],1)})),1)})),n("el-dialog",{attrs:{title:"配置按钮发送内容",visible:t.centerDialogVisible,width:"80%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[n("div",{staticClass:"dialog-title"},[t._v("发送内容("+t._s(t.encoded)+")：")]),n("el-input",{attrs:{placeholder:"请输入发送内容",clearable:""},model:{value:t.inputValue1,callback:function(e){t.inputValue1=e},expression:"inputValue1"}}),n("div",{staticClass:"dialog-title"},[t._v("发送间隔(ms)：")]),n("el-input",{attrs:{placeholder:"请输入发送间隔,默认长按不连续发送",clearable:""},model:{value:t.inputValue2,callback:function(e){t.inputValue2=e},expression:"inputValue2"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){return t.closeDialog()}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.closeDialog}},[t._v("确 定")])],1)],1)],2)],1)],1)},p=[],f=(n("96cf"),n("1da1")),m={name:"Home",components:{},data:function(){return{options:[{label:"UTF-8",value:"UTF-8"},{label:"HEX",value:"HEX"}],encoded:"UTF-8",btns:[],mode:0,centerDialogVisible:!1,inputValue1:"",inputValue2:"",curNum:0,sendingTimer:0,isConnected:!1,pollTimer:0}},methods:{createBtn:function(){for(var t=0;t<6;t++)this.btns.push({cmd:"forward#",interval:0})},addBtn:function(){this.btns.push({cmd:"",interval:0})},subBtn:function(){this.btns.pop()},touch:function(t,e,n){this.curNum=t,this.mode?(this.centerDialogVisible=!0,this.inputValue1=this.btns[t].cmd,this.inputValue2=this.btns[t].interval):this.sendData(e,n)},sendData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0!==n?this.sendingTimer=setInterval((function(){console.log("发送："+e,"间隔："+n),t.$http.post("sendCmd",{cmd:e,interval:n})}),n):(console.log("发送："+e),this.$http.post("sendCmd",{cmd:e,interval:n}))},endSend:function(){clearInterval(this.sendingTimer)},closeDialog:function(){this.btns[this.curNum].cmd=this.inputValue1,this.btns[this.curNum].interval=this.inputValue2,this.centerDialogVisible=!1},saveConfig:function(){localStorage.setItem("btn_config",JSON.stringify(this.btns)),this.$message.success("保存配置成功！")},getConfig:function(){this.btns=JSON.parse(localStorage.getItem("btn_config"))}},mounted:function(){var t=this;localStorage.getItem("btn_config")?this.getConfig():this.createBtn(),this.pollTimer=setInterval(Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("getStatus");case 2:n=e.sent,console.log(n.data.connected),n.data.connected&&(t.isConnected=!0,clearInterval(t.pollTimer),t.$message.success("连接成功！"));case 5:case"end":return e.stop()}}),e)}))),2e3)}},h=m,v=(n("b3b0"),Object(i["a"])(h,d,p,!1,null,"6f831102",null)),b=v.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("form",{attrs:{action:""},on:{submit:t.login}},[n("ul",{staticClass:"login-check"},[n("li",[t._v("登录")]),n("li",[n("label",{staticClass:"iconfont icon-wo",attrs:{for:"na"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model.username,expression:"model.username"}],attrs:{id:"na"},domProps:{value:t.model.username},on:{input:function(e){e.target.composing||t.$set(t.model,"username",e.target.value)}}})]),n("li",[n("label",{staticClass:"iconfont icon-suo",attrs:{for:"pass"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],attrs:{type:"password",id:"pass"},domProps:{value:t.model.password},on:{input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}})]),t._m(0)])])])},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("button",{attrs:{type:"submit"}},[t._v(" NEXT DOOR ")])])}],y={data:function(){return{checked:"",model:{}}},methods:{login:function(){"mycar"==this.model.username&&"1234"==this.model.password?(sessionStorage.setItem("token","true"),this.$message.success("登录成功！"),this.$router.push("/home")):(this.$message.success("账号或密码错误！"),this.$router.push("/Login"))}},mounted:function(){}},_=y,x=(n("8d26"),Object(i["a"])(_,g,w,!1,null,"56edc272",null)),k=x.exports;o["default"].use(u["a"]);var O=[{path:"/login",name:"Login",component:k,meta:{isPublic:!0}},{path:"/",name:"main",redirect:"/login"},{path:"/home",name:"Home",component:b}],C=new u["a"]({routes:O});C.beforeEach((function(t,e,n){if(!t.meta.isPublic&&!window.sessionStorage.getItem("token"))return n("/login");n()}));var V=C,$=(n("0fae"),n("9e2f")),S=n.n($);n("c69f");o["default"].use(S.a);n("6672");var j=n("bc3a"),T=n.n(j);o["default"].config.productionTip=!1,o["default"].prototype.$http=T.a.create({baseURL:"http://localhost:3333/wlw/api"}),new o["default"]({router:V,render:function(t){return t(c)}}).$mount("#app")},6672:function(t,e,n){},"8d26":function(t,e,n){"use strict";var o=n("d87a"),a=n.n(o);a.a},b3b0:function(t,e,n){"use strict";var o=n("1a82"),a=n.n(o);a.a},c69f:function(t,e,n){},d87a:function(t,e,n){}});